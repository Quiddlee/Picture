!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=(e,t)=>{const n=document.querySelector(e),o=document.querySelectorAll(t);o.forEach(e=>{e.classList.add("animated","fadeIn")}),n.addEventListener("click",()=>{n.remove(),o.forEach(e=>{e.classList.remove("hidden-lg","hidden-md","hidden-sm","hidden-xs","styles-2"),e.classList.add("col-sm-3","col-sm-offset-0","col-xs-10","col-xs-offset-1")})})};var a=e=>{const t=document.querySelectorAll(e);t.forEach(e=>{e.addEventListener("mouseover",()=>{(e=>{const t=e.querySelector("img");t.src=t.src.slice(0,-4)+"-1.png",t.classList.add("animated","fadeIn"),e.querySelectorAll("p:not(.sizes-hit)").forEach(e=>{e.style.display="none"})})(e)}),e.addEventListener("mouseout",()=>{(e=>{const t=e.querySelector("img");t.src=t.src.slice(0,-6)+".png",t.classList.remove("animated","fadeIn"),e.querySelectorAll("p:not(.sizes-hit)").forEach(e=>{e.style.display="block"})})(e)})})};const l=async(e,t)=>{const n=await fetch(e,{method:"POST",body:t});if(!n.ok)throw new Error(`Could not fetch ${e}, status: ${n.status}`);return await n.text()};var s=()=>{const e=document.querySelectorAll('[name="upload"]');function t(e){e.stopPropagation(),e.preventDefault()}["dragenter","dragleave","dragover","drop"].forEach(n=>{e.forEach(e=>{e.addEventListener(n,t,!1)})}),["dragenter","dragover"].forEach(t=>{e.forEach(e=>{e.addEventListener(t,()=>{return(t=e).closest(".file_upload").style.border="1px solid #c51abb",t.closest(".file_upload").style.borderRadius="5%",void(t.closest(".file_upload").style.backgroundColor="rgba(0, 0, 0, 0.1)");var t},!1)})}),["dragleave","drop"].forEach(t=>{e.forEach(e=>{e.addEventListener(t,()=>{return(t=e).closest(".file_upload").style.border="none",void(t.closest(".calc_form")?t.closest(".file_upload").style.backgroundColor="#fff":t.closest(".main-form")?t.closest(".file_upload").style.backgroundColor="#ededed":t.closest(".file_upload").style.backgroundColor="#f7e7e6");var t},!1)})}),e.forEach(e=>{e.addEventListener("drop",t=>{if(e.files=t.dataTransfer.files,e.closest(".hidden-xs")){const t=e.files,n=new FormData;for(const e in t)n.append(e,t[e]);l("assets/server.php",n).then(t=>{e.previousElementSibling.textContent="Файл успешно отправлен!",console.log(t)}).catch(t=>{e.previousElementSibling.textContent="Произошла ошибка",console.log(t)}).finally(()=>{setTimeout(()=>{e.previousElementSibling.textContent="Файл не выбран"},5e3)})}let n;const o=e.files[0].name.split(".");n=o[0].length>6?"...":".",e.previousElementSibling.textContent=`${o[0].substring(0,6)}${n}${o[1]}`})})};var r=(e,t,n,o,a,l)=>{const s=document.querySelector(o),r=document.querySelector(t),c=document.querySelector(n),i=document.querySelector(a),d=document.querySelector(e);let u=0;const m=()=>{u=Math.round(+d.value*+r.value+ +c.value),""===d.value||""===r.value?i.textContent="Пожалуйста, выберите размер и материал картины":"IWANTPOPART"===s.value?i.textContent=Math.round(.7*u):i.textContent=u};s.addEventListener("input",()=>m()),r.addEventListener("change",()=>m()),c.addEventListener("change",()=>m()),d.addEventListener("change",()=>m())};var c=e=>{const t=document.querySelector(e);window.addEventListener("scroll",()=>{document.documentElement.scrollTop>1650?(t.classList.add("animated","fadeIn"),t.classList.remove("fadeOut")):(t.classList.remove("fadeIn"),t.classList.add("fadeOut"))});const n=document.querySelectorAll('[href^="#"]');n.forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.documentElement.scrollTop,n=this.hash,o=document.querySelector(n).getBoundingClientRect().top;let a=null;requestAnimationFrame((function e(l){null===a&&(a=l);const s=l-a;let r=o<0?Math.max(t-s/.2,t+o):Math.min(t+s/.2,t+o);document.documentElement.scrollTo(0,r),r!==t+o?requestAnimationFrame(e):location.hash=n}))}))})};var i={modalIn:e=>{e.animate([{filter:"opacity(0)",scale:"1 0.1",left:"52%"},{filter:"opacity(10%)",scale:"1.2 0.1"},{filter:"opacity(40%)",scale:"1 1.1",left:"50%"},{filter:"opacity(100%) blur(0.6px)",scale:"1.01 0.98"},{filter:"blur(0)",scale:1}],{duration:500})},modalOut:e=>{e.animate([{filter:"opacity(100%) blur(0.6px)",scale:1},{filter:"blur(0.7px)",scale:"1.2 1.25"},{filter:"opacity(100%) blur(0px)",scale:"1.4 1.3",left:"53.5%"},{filter:"opacity(20%)",scale:"1 0.8"},{filter:"opacity(5%) blur(0)",left:"46%",scale:0}],{duration:315})},collapseIn:e=>{e.animate([{filter:"opacity(0%)",transform:"translateY(-120%) scale(0.5, 0.4)"},{filter:"opacity(25%)",transform:"translateY(-3%) scale(1, 1.05)"},{filter:"opacity(100%)",transform:"translateY(0%) scale(1, 0.98)"},{transform:"translateY(0%) scale(1)"}],{duration:500})},collapseOut:e=>{e.animate([{filter:"opacity(100%)",transform:"translateY(0) scale(1)"},{filter:"opacity(25%)",transform:"translateY(30%) scale(0.5, 0.4)"},{filter:"opacity(20%)",transform:"translateY(-75%) scale(0)"}],{duration:300})}};var d=e=>{document.querySelectorAll(e).forEach(e=>{e.addEventListener("click",(function(){const e=this.nextElementSibling;this.classList.toggle("active-style"),e.classList.toggle("active-content"),this.classList.contains("active-style")?(e.style.maxHeight=e.scrollHeight+80+"px",i.collapseIn(e)):(e.style.maxHeight="0px",i.collapseOut(e))}))})};var u=(e,t,n,o)=>{const a=document.querySelectorAll(e);let l=null,s=1;const r=e=>{e>a.length&&(s=1),e<1&&(s=a.length),a.forEach(e=>{e.style.display="none"}),a[s-1].style.display="block"};r(s);const c=e=>{r(s+=e)};try{const e=document.querySelector(n),t=document.querySelector(o);e.addEventListener("click",()=>{c(-1),a[s-1].classList.remove("slideLeft"),a[s-1].classList.add("slideRight"),document.body.overflow="hidden"}),t.addEventListener("click",()=>{c(1),document.body.overflow="hidden",a[s-1].classList.remove("slideRight"),a[s-1].classList.add("slideLeft")})}catch(e){}const i=()=>{l="vertical"===t?setInterval(()=>{c(1),a[s-1].classList.add("slideUp")},3e3):setInterval(()=>{c(1),a[s-1].classList.remove("slideRight"),a[s-1].classList.add("slideLeft")},3e3)};i(),a[0].parentNode.addEventListener("mouseenter",()=>{clearInterval(l)}),a[0].parentNode.addEventListener("mouseleave",()=>{i()})};var m=()=>{let e=!1;function t(t,o,a){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=document.querySelectorAll(".popup-content"),r=document.querySelectorAll(o),c=document.querySelectorAll("[data-modal]"),d=document.querySelector(t),u=document.querySelector(a),m=document.querySelector(".fixed-gift"),p=n();r.forEach(t=>{t.addEventListener("click",n=>{m&&(m.style.right=2*p+"px"),n.target&&n.preventDefault(),l&&t.remove(),e=!0,s.forEach(e=>{i.modalIn(e)}),c.forEach(e=>{e.style.display="none"}),document.body.style.marginRight=p+"px",document.body.style.overflow="hidden",d.style.display="block"})}),u.addEventListener("click",()=>{m&&(m.style.right="2rem"),s.forEach(e=>{i.modalOut(e)}),setTimeout(()=>{c.forEach(e=>e.style.display="none"),document.body.style.marginRight="0px",document.body.style.overflow=""},300)}),d.addEventListener("click",e=>{e.target===d&&(m&&(m.style.right="2rem"),s.forEach(e=>{i.modalOut(e)}),setTimeout(()=>{c.forEach(e=>e.style.display="none"),document.body.style.marginRight="0px",document.body.style.overflow=""},300))})}function n(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflowY="scroll",e.style.height="50px",e.style.width="50px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return e.remove(),t}t(".popup-consultation",".button-consultation",".popup-consultation .popup-close"),t(".popup-design",".button-design",".popup-design .popup-close"),t(".popup-gift",".fixed-gift",".popup-gift .popup-close",!0),function t(n){window.addEventListener("scroll",()=>{window.scrollY+document.documentElement.clientHeight>=document.documentElement.scrollHeight-1&&!e&&(window.removeEventListener("scroll",t),document.querySelector(n).click())})}(".fixed-gift")};var p=()=>{const e=document.querySelector(".portfolio-wrapper"),t=document.querySelector(".portfolio-menu"),n=document.querySelector(".portfolio-no"),o=e.querySelectorAll(".all"),a=t.querySelectorAll("li");t.addEventListener("click",t=>{const l=t.target;var s;l&&"LI"===l.tagName&&(s=e.querySelectorAll("."+l.className.replace("active","")),n.classList.remove("animated","fadeIn"),n.style.display="none",o.forEach(e=>{e.classList.remove("animated","fadeIn"),e.style.display="none"}),s.length?s.forEach(e=>{e.classList.add("animated","fadeIn"),e.style.display="block"}):(n.classList.add("animated","fadeIn"),n.style.display="block"),a.forEach(e=>e.classList.remove("active")),l.classList.add("active"))})};var f=(e,t)=>{const n=document.querySelector(e),o=document.querySelector(t);n.style.display="none",o.addEventListener("click",()=>{"none"===n.style.display&&window.screen.availWidth<=992?n.style.display="block":n.style.display="none",window.addEventListener("resize",()=>{window.screen.availWidth>992&&(n.style.display="none")})})};var y=e=>{let{statusImage:t,appendElement:n,delay:o,message:a,oldElement:l}=e;try{l.remove()}catch(e){}const s=document.querySelector(".popup-consultation h4");try{s.classList.add("animated","fadeOutUp"),setTimeout(()=>s.style.display="none",200)}catch(e){}n.classList.add("animated","fadeOutUp"),setTimeout(()=>{n.style.display="none",r.classList.add("animated","fadeInUp"),i.classList.add("animated","fadeIn"),n.parentNode.append(r),n.parentNode.append(i),r.append(c)},200);const r=document.createElement("div"),c=document.createElement("img"),i=document.createElement("div");r.classList.add("status"),c.src=t,c.style.cssText="\n        border-radius: 4px;\n        max-height: 20rem;\n        max-width: 20rem;\n        margin: 0 auto \n        display: none;\n        z-index: 3;\n    ";try{i.innerHTML=a,i.style.cssText="\n            transform: translateX(50%);\n            background-color: white;\n            border-radius: 4px;\n            font-size: 23px;\n            position: fixed;\n            width: 100%;\n            right: 50%;\n            z-index: 5;\n            top: 98%;\n        "}catch(e){}setTimeout(()=>{n.classList.remove("fadeOutUp"),r.classList.remove("fadeInUp"),r.classList.add("fadeOut"),n.classList.add("fadeIn"),i.classList.add("fadeOut");try{s.classList.remove("fadeOutUp"),s.classList.add("fadeIn")}catch(e){}setTimeout(()=>{try{s.style.display=""}catch(e){}n.style.display="block",r.remove(),i.remove()},430)},o)};var v=e=>{let t;document.querySelectorAll(e).forEach(e=>{e.addEventListener("input",()=>{t&&t.remove(),e.value.match(/[a-z]/g)&&(t=n(e)),e.value=e.value.replace(/[a-z]/gi,"")})});const n=e=>{const t=document.createElement("div");return t.textContent="Пожалуйста, введите данные кириллицей",e.parentNode.append(t),setTimeout(()=>{t.remove()},1e3),t}};var h=e=>{const t=document.querySelectorAll('[name="upload"]'),n=document.querySelectorAll("form");v('textarea[name="message"]'),v('input[name="message"]'),v('input[name="name"]');const o="Спасибо! Скоро мы с вами свяжемся",a="assets/img/ok.gif",s="assets/img/spinner.gif",r="assets/server.php",c="assets/questions.php";t.forEach(e=>{e.addEventListener("input",()=>{let t;const n=e.files[0].name.split(".");t=n[0].length>6?"...":".",e.previousElementSibling.textContent=`${n[0].substring(0,6)}${t}${n[1]}`})}),n.forEach(i=>{!function(i){i.addEventListener("submit",d=>{d.preventDefault();const u=document.createElement("img");u.style.scale="0.2",u.src=s,i.parentNode.append(u);const m=new FormData(i);if("end"===i.getAttribute("data-calc"))for(const t in e)m.append(t,e[t]),delete e[t];let p;p=i.closest(".popup-design")||i.classList.contains("calc_form")?r:c,l(p,m).then(e=>{console.log(e),y({message:o,statusImage:a,appendElement:i,oldElement:u,delay:1700})}).catch(()=>{y({message:o,statusImage:a,appendElement:i,oldElement:u,delay:1700})}).finally(()=>{document.querySelector(".calc-price").textContent="Для расчета нужно выбрать размер картины и материал картины",t.forEach(e=>e.previousElementSibling.textContent="Файл не выбран"),n.forEach(e=>e.reset())})})}(i)})};var g=e=>{function t(e){const t="+38 (0__) ___ __ __",n=t.replace(/\D/g,"");let o=this.value.replace(/\D/g,""),a=0;(n.length>=o.length||3!=+o[0]||8!=+o[1])&&(o=n),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&a<o.length?o.charAt(a++):a>=o.length?"":e})),"blur"===e.type&&2===this.value.length&&(this.value=""),"focus"===e.type&&((e,t)=>{if(t.focus(),t.setSelectionRange&&t.setSelectionRange(e,e),t.createTextRange){const n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}})(this.value.length,this)}document.querySelectorAll(e).forEach(e=>{e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)})};window.addEventListener("DOMContentLoaded",()=>{const e={};u(".feedback-slider-item","horizontal",".main-prev-btn",".main-next-btn",".main-prev-btn"),r("#size","#material","#options",".promocode",".calc-price",e),d(".accordion-heading",".accordion-block"),o(".button-styles",".styles-2"),u(".main-slider-item","vertical"),f(".burger-menu",".burger"),a(".sizes-block"),g('[name="phone"]'),c(".pageup"),h(e),s(),m(),p()})}]);
//# sourceMappingURL=script.js.map